<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout1}">

<!-- 각 페이지의 CSS가 작성될 위치 -->
<th:block layout:fragment="css">
    <style>

    </style>
</th:block>

<div layout:fragment="content">

    <div class="masonry-wrap">
        <div class="masonry">
            <div class="grid-sizer"></div>

            <th:block th:each="post, status: ${posts}">
                <article class="masonry__brick entry format-standard animate-this">
                    <div class="entry__thumb" style="display: flex; justify-content: center; background-color: white;" >
                        <swiper-container class="mySwiper" pagination="true" style="background: white;">

                            <swiper-slide style="background-color: white;"><img th:src="${post.imageUrl}" th:alt="${post.oriImageName}" style="max-width: 100%;"></swiper-slide>

                        </swiper-container>
                    </div>
                    <div class="entry__text">
                        <div class="entry__header">
                            <h2 class="entry__title">
                                <a th:href="@{ '/post/article/' + ${post.postNo}}" th:text="${post.subject}">글제목</a>
                            </h2>
                            <div class="entry__meta">
                    <span class="entry__meta-cat">
                      <a href="category.html" th:text="${post.regTime}">작성일</a>
                    </span>
                            </div>
                        </div>
                        <div class="entry__excerpt">
                            <p th:text="${post.content}">내용내용내용내용내용 - 현재 div 리스트 갯수만큼 반복</p>
                        </div>
                    </div>
                </article>
            </th:block>
            <!-- end article -->
        </div>
        <!-- end masonry -->
    </div>
    <!-- end masonry-wrap -->

    <div class="row">
        <div class="column large-full">
            <nav class="pgn" th:with="start=${(posts.number/maxPage)*maxPage + 1}
			                 ,end=(${(posts.totalPages == 0) ? 1 : (start + (maxPage - 1) < posts.totalPages ? start + (maxPage - 1) : posts.totalPages)})">
                <ul>
                    <li th:classappend="${posts.first}?'disabled'">
                        <a class="pgn__prev" href="#0" th:href="@{'/main/'+ ${posts.number - 1}}">다음</a>
                    </li>
                    <li th:each="page: ${#numbers.sequence(start, end)}"
                    >
                        <a class="pgn__num"
                           th:href="@{'/main/' + ${page - 1}}"
                           th:classappend="${posts.number eq page - 1}?'current':''">[[${page}]]</a>
                    </li>
                    <li th:classappend="${posts.last}?'disabled'">
                        <a class="pgn__next" th:href="@{'/main/' + ${posts.number + 1}}">이전</a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
    <!-- end s-content -->
</div>

<!-- 각 페이지의 스크립트가 작성될 위치 -->
<th:block layout:fragment="script">
    <script th:inline="javascript">

    </script>
</th:block>
</html>